<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name=viewport content="width=device-width, initial-scale=1">
        <script src="js/main.js"></script>
        <script>
            function ShowInput(container, values, inputName, selectHandler) {
                var _container = document.getElementById(container);
                var i = 0;
                for (var stop of values) {
                    var input = document.createElement("input");
                    input.type = "radio";
                    input.value = stop;
                    input.name = inputName;
                    input.id = inputName + i;
                    input.addEventListener('change', selectHandler);
                    _container.append(input);

                    var label = document.createElement("label");
                    label.htmlFor = inputName + i;
                    label.append(stop);
                    _container.append(label);

                    var br = document.createElement("br");
                    _container.append(br);

                    i++;
                }
            }
        </script>
    </head>
    <body>
        <div style="margin: 1em">From:
            <div id="_from"></div>
        </div>
        <div style="margin: 1em">To:
            <div id="_to"></div>
        </div>
        <div style="margin: 1em">
            <button id="go"> Now </button> 
            <button id="go30"> In 30 min </button>
        </div>
        <script>
            const namesFrom = ['Humlebæk St.', 'Kokkedal St.', 'Nørreport St.'];
            const namesTo = ['Humlebæk St.', 'Kokkedal St.', 'Nørreport St.'];
            var planer = Rejseplanen.planer();

            ShowInput("_from", namesFrom, "from", (event) => {planer.from(event.target.value);});
            ShowInput("_to", namesTo, "to", (event) => {planer.to(event.target.value);});

            document.getElementById('go').addEventListener('click', () => {
                planer.now();
                window.location = planer.search(); 
            });

            document.getElementById('go30').addEventListener('click', () => { 
                planer.afterMinutes(30);
                window.location = planer.search(); 
            });
        </script>
    </body>
</html>
